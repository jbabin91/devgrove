{
  "name": "searchfield",
  "type": "registry:ui",
  "dependencies": ["react-aria-components"],
  "registryDependencies": ["https://jollyui.dev/r/styles/default/field.json"],
  "files": [
    {
      "path": "ui/searchfield.tsx",
      "content": "'use client';\n\nimport {\n  Button as AriaButton,\n  type ButtonProps as AriaButtonProps,\n  composeRenderProps,\n  Group as AriaGroup,\n  type GroupProps as AriaGroupProps,\n  Input as AriaInput,\n  type InputProps as AriaInputProps,\n  SearchField as AriaSearchField,\n  type SearchFieldProps as AriaSearchFieldProps,\n  Text,\n  type ValidationResult as AriaValidationResult,\n} from 'react-aria-components';\n\nimport { cn } from '~/libs/utils';\n\nimport { FieldError, FieldGroup, Label } from './field';\nimport { Icons } from './icons';\n\n/**\n * Renders a search field component.\n *\n * @component\n * @param {AriaSearchFieldProps} props - The props for the search field.\n * @param {string} [props.className] - The class name for the search field.\n * @returns {JSX.Element} The rendered search field component.\n */\nfunction SearchField({\n  className,\n  ...props\n}: AriaSearchFieldProps): JSX.Element {\n  return (\n    <AriaSearchField\n      className={composeRenderProps(className, (className) =>\n        cn('group', className),\n      )}\n      {...props}\n    />\n  );\n}\n\n/**\n * Renders a search field input component.\n *\n * @component\n * @param {AriaInputProps} props - The input props.\n * @param {string} [props.className] - The class name for the search field input.\n * @returns {JSX.Element} The rendered search field input component.\n */\nfunction SearchFieldInput({\n  className,\n  ...props\n}: AriaInputProps): JSX.Element {\n  return (\n    <AriaInput\n      className={composeRenderProps(className, (className) =>\n        cn(\n          'min-w-0 flex-1 bg-background px-2 py-1.5 outline outline-0 placeholder:text-muted-foreground [&::-webkit-search-cancel-button]:hidden',\n          className,\n        ),\n      )}\n      {...props}\n    />\n  );\n}\n\n/**\n * Renders a search field group component.\n *\n * @component\n * @param {AriaGroupProps} props - The component props.\n * @param {string} [props.className] - The class name for the component.\n * @returns {JSX.Element} The rendered search field group component.\n */\nfunction SearchFieldGroup({\n  className,\n  ...props\n}: AriaGroupProps): JSX.Element {\n  return (\n    <AriaGroup\n      className={composeRenderProps(className, (className) =>\n        cn(\n          'flex h-10 w-full items-center overflow-hidden rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background',\n          /* Focus Within */\n          'data-[focus-within]:outline-none data-[focus-within]:ring-2 data-[focus-within]:ring-ring data-[focus-within]:ring-offset-2',\n          /* Disabled */\n          'data-[disabled]:opacity-50',\n          className,\n        ),\n      )}\n      {...props}\n    />\n  );\n}\n\n/**\n * Renders a clear button for a search field.\n *\n * @component\n * @param {AriaButtonProps} props - The props for the clear button.\n * @param {string} [props.className] - The class name for the clear button.\n * @returns {JSX.Element} - The rendered clear button.\n */\nfunction SearchFieldClear({\n  className,\n  ...props\n}: AriaButtonProps): JSX.Element {\n  return (\n    <AriaButton\n      className={composeRenderProps(className, (className) =>\n        cn(\n          'mr-1 rounded-sm opacity-70 ring-offset-background transition-opacity',\n          /* Hover */\n          'data-[hovered]:opacity-100',\n          /* Disabled */\n          'data-[disabled]:pointer-events-none',\n          /* Empty */\n          'group-data-[empty]:invisible',\n          className,\n        ),\n      )}\n      {...props}\n    />\n  );\n}\n\n/**\n * Props for the GroveSearchField component.\n *\n * @typedef {Object} GroveSearchFieldProps\n * @property {string} [label] - The label for the search field.\n * @property {string} [description] - The description for the search field.\n * @property {(string | ((validation: AriaValidationResult) => string))} [errorMessage] - The error message for the search field.\n * @property {AriaSearchFieldProps} - Additional props for the search field.\n */\ntype GroveSearchFieldProps = {\n  label?: string;\n  description?: string;\n  errorMessage?: string | ((validation: AriaValidationResult) => string);\n} & AriaSearchFieldProps;\n\n/**\n * Renders a search field component with optional label, description, and error message.\n *\n * @component\n * @param {GroveSearchFieldProps} props - The props for the GroveSearchField component.\n * @param {string} [props.className] - The class name for the GroveSearchField component.\n * @param {string} [props.label] - The label for the GroveSearchField component.\n * @param {string} [props.description] - The description for the GroveSearchField component.\n * @param {string} [props.errorMessage] - The error message for the GroveSearchField component.\n * @returns {JSX.Element} The rendered GroveSearchField component.\n */\nfunction GroveSearchField({\n  className,\n  label,\n  description,\n  errorMessage,\n  ...props\n}: GroveSearchFieldProps): JSX.Element {\n  return (\n    <SearchField\n      className={composeRenderProps(className, (className) =>\n        cn('group flex flex-col gap-2', className),\n      )}\n      {...props}\n    >\n      <Label>{label}</Label>\n      <FieldGroup>\n        <Icons.Search aria-hidden className=\"size-4 text-muted-foreground\" />\n        <SearchFieldInput placeholder=\"Search...\" />\n        <SearchFieldClear>\n          <Icons.Close aria-hidden className=\"size-4\" />\n        </SearchFieldClear>\n      </FieldGroup>\n      {description && (\n        <Text className=\"text-sm text-muted-foreground\" slot=\"description\">\n          {description}\n        </Text>\n      )}\n      <FieldError>{errorMessage}</FieldError>\n    </SearchField>\n  );\n}\n\nexport type { GroveSearchFieldProps };\nexport {\n  GroveSearchField,\n  SearchField,\n  SearchFieldClear,\n  SearchFieldGroup,\n  SearchFieldInput,\n};\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}
