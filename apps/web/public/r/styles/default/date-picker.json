{
  "name": "date-picker",
  "type": "registry:ui",
  "dependencies": ["react-aria-components"],
  "registryDependencies": [
    "https://ui.dev-grove.com/r/styles/default/field.json",
    "https://ui.dev-grove.com/r/styles/default/popover.json",
    "https://ui.dev-grove.com/r/styles/default/button.json",
    "https://ui.dev-grove.com/r/styles/default/calendar.json",
    "https://ui.dev-grove.com/r/styles/default/datefield.json",
    "https://ui.dev-grove.com/r/styles/default/field.json"
  ],
  "files": [
    {
      "path": "ui/date-picker.tsx",
      "content": "'use client';\n\nimport {\n  composeRenderProps,\n  DatePicker as AriaDatePicker,\n  type DatePickerProps as AriaDatePickerProps,\n  DateRangePicker as AriaDateRangePicker,\n  type DateRangePickerProps as AriaDateRangePickerProps,\n  type DateValue as AriaDateValue,\n  Dialog as AriaDialog,\n  type DialogProps as AriaDialogProps,\n  type PopoverProps as AriaPopoverProps,\n  Text,\n  type ValidationResult as AriaValidationResult,\n} from 'react-aria-components';\n\nimport { cn } from '~/libs/utils';\n\nimport { Button } from './button';\nimport {\n  Calendar,\n  CalendarCell,\n  CalendarGrid,\n  CalendarGridBody,\n  CalendarGridHeader,\n  CalendarHeaderCell,\n  CalendarHeading,\n  RangeCalendar,\n} from './calendar';\nimport { DateInput } from './datefield';\nimport { FieldError, FieldGroup, Label } from './field';\nimport { Icons } from './icons';\nimport { Popover } from './popover';\n\n/**\n * A custom date picker component.\n */\nconst DatePicker = AriaDatePicker;\n\n/**\n * A custom date range picker component.\n */\nconst DateRangePicker = AriaDateRangePicker;\n\n/**\n * Renders the content of a date picker.\n *\n * @component\n * @param {AriaDialogProps} props - The props for the AriaDialog component.\n * @param {string} [props.className] - The class name for the DatePickerContent component.\n * @param {string} [props.popoverClassName] - The class name for the Popover component.\n * @returns {JSX.Element} The rendered DatePickerContent component.\n */\nfunction DatePickerContent({\n  className,\n  popoverClassName,\n  ...props\n}: AriaDialogProps & {\n  popoverClassName?: AriaPopoverProps['className'];\n}): JSX.Element {\n  return (\n    <Popover\n      className={composeRenderProps(popoverClassName, (className) =>\n        cn('w-auto p-3', className),\n      )}\n    >\n      <AriaDialog\n        className={cn(\n          'flex w-full flex-col space-y-4 outline-none sm:flex-row sm:space-x-4 sm:space-y-0',\n          className,\n        )}\n        {...props}\n      />\n    </Popover>\n  );\n}\n\n/**\n * Props for the GroveDatePicker component.\n *\n * @template T - The type of the date value.\n * @property {string} [label] - The label for the date picker.\n * @property {string} [description] - The description for the date picker.\n * @property {string | ((validation: AriaValidationResult) => string)} [errorMessage] - The error message for the date picker.\n * @property {AriaDatePickerProps<T>} - Additional props for the AriaDatePicker component.\n */\ntype GroveDatePickerProps<T extends AriaDateValue> = {\n  label?: string;\n  description?: string;\n  errorMessage?: string | ((validation: AriaValidationResult) => string);\n} & AriaDatePickerProps<T>;\n\n/**\n * Renders a GroveDatePicker component.\n *\n * @component\n * @template T - The type of the AriaDateValue.\n * @param {GroveDatePickerProps<T>} props - The props for the GroveDatePicker component.\n * @param {string} [props.className] - The class name for the GroveDatePicker component.\n * @param {string} [props.label] - The label for the GroveDatePicker component.\n * @param {string} [props.description] - The description for the GroveDatePicker component.\n * @param {string | ((validation: AriaValidationResult) => string)} [props.errorMessage] - The error message for the GroveDatePicker component.\n * @returns {JSX.Element} - The rendered GroveDatePicker component.\n */\nfunction GroveDatePicker<T extends AriaDateValue>({\n  className,\n  label,\n  description,\n  errorMessage,\n  ...props\n}: GroveDatePickerProps<T>): JSX.Element {\n  return (\n    <DatePicker\n      className={composeRenderProps(className, (className) =>\n        cn('group flex flex-col gap-2', className),\n      )}\n      {...props}\n    >\n      <Label>{label}</Label>\n      <FieldGroup>\n        <DateInput className=\"flex-1\" variant=\"ghost\" />\n        <Button\n          className=\"mr-1 size-6 data-[focus-visible]:ring-offset-0\"\n          size=\"icon\"\n          variant=\"ghost\"\n        >\n          <Icons.Calendar aria-hidden=\"true\" className=\"size-4\" />\n        </Button>\n      </FieldGroup>\n      {description && (\n        <Text className=\"text-sm text-muted-foreground\" slot=\"description\">\n          {description}\n        </Text>\n      )}\n      <FieldError>{errorMessage}</FieldError>\n      <DatePickerContent>\n        <Calendar>\n          <CalendarHeading />\n          <CalendarGrid>\n            <CalendarGridHeader>\n              {(day) => <CalendarHeaderCell>{day}</CalendarHeaderCell>}\n            </CalendarGridHeader>\n            <CalendarGridBody>\n              {(date) => <CalendarCell date={date} />}\n            </CalendarGridBody>\n          </CalendarGrid>\n        </Calendar>\n      </DatePickerContent>\n    </DatePicker>\n  );\n}\n\n/**\n * Props for the GroveDateRangePicker component.\n *\n * @template T - The type of the date value.\n * @property {string} [label] - The label for the date range picker.\n * @property {string} [description] - The description for the date range picker.\n * @property {string | ((validation: AriaValidationResult) => string)} [errorMessage] - The error message for the date range picker.\n * @extends AriaDateRangePickerProps<T>\n */\ntype GroveDateRangePickerProps<T extends AriaDateValue> = {\n  label?: string;\n  description?: string;\n  errorMessage?: string | ((validation: AriaValidationResult) => string);\n} & AriaDateRangePickerProps<T>;\n\n/**\n * Renders a date range picker component.\n *\n * @component\n * @template T - The type of the AriaDateValue.\n * @param {GroveDateRangePickerProps<T>} props - The props for the GroveDateRangePicker component.\n * @param {string} [props.className] - The class name for the GroveDateRangePicker component.\n * @param {string} [props.label] - The label for the GroveDateRangePicker component.\n * @param {string} [props.description] - The description for the GroveDateRangePicker component.\n * @param {string | ((validation: AriaValidationResult) => string)} [props.errorMessage] - The error message for the GroveDateRangePicker component.\n * @returns {JSX.Element} - The rendered date range picker component.\n */\nfunction GroveDateRangePicker<T extends AriaDateValue>({\n  className,\n  label,\n  description,\n  errorMessage,\n  ...props\n}: GroveDateRangePickerProps<T>): JSX.Element {\n  return (\n    <DateRangePicker\n      className={composeRenderProps(className, (className) =>\n        cn('group flex flex-col gap-2', className),\n      )}\n      {...props}\n    >\n      <Label>{label}</Label>\n      <FieldGroup>\n        <DateInput slot=\"start\" variant=\"ghost\" />\n        <span aria-hidden=\"true\" className=\"px-2 text-sm text-muted-foreground\">\n          -\n        </span>\n        <DateInput className=\"flex-1\" slot=\"end\" variant=\"ghost\" />\n\n        <Button\n          className=\"mr-1 size-6 data-[focus-visible]:ring-offset-0\"\n          size=\"icon\"\n          variant=\"ghost\"\n        >\n          <Icons.Calendar aria-hidden=\"true\" className=\"size-4\" />\n        </Button>\n      </FieldGroup>\n      {description && (\n        <Text className=\"text-sm text-muted-foreground\" slot=\"description\">\n          {description}\n        </Text>\n      )}\n      <FieldError>{errorMessage}</FieldError>\n      <DatePickerContent>\n        <RangeCalendar>\n          <CalendarHeading />\n          <CalendarGrid>\n            <CalendarGridHeader>\n              {(day) => <CalendarHeaderCell>{day}</CalendarHeaderCell>}\n            </CalendarGridHeader>\n            <CalendarGridBody>\n              {(date) => <CalendarCell date={date} />}\n            </CalendarGridBody>\n          </CalendarGrid>\n        </RangeCalendar>\n      </DatePickerContent>\n    </DateRangePicker>\n  );\n}\n\nexport type { GroveDatePickerProps, GroveDateRangePickerProps };\nexport {\n  DatePicker,\n  DatePickerContent,\n  DateRangePicker,\n  GroveDatePicker,\n  GroveDateRangePicker,\n};\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}
