{
  "name": "select",
  "type": "registry:ui",
  "dependencies": ["react-aria-components"],
  "registryDependencies": [
    "https://ui.dev-grove.com/r/styles/default/field.json",
    "https://ui.dev-grove.com/r/styles/default/popover.json"
  ],
  "files": [
    {
      "path": "ui/select.tsx",
      "content": "'use client';\n\nimport {\n  Button as AriaButton,\n  type ButtonProps as AriaButtonProps,\n  composeRenderProps,\n  ListBox as AriaListBox,\n  type ListBoxProps as AriaListBoxProps,\n  type PopoverProps as AriaPopoverProps,\n  Select as AriaSelect,\n  type SelectProps as AriaSelectProps,\n  SelectValue as AriaSelectValue,\n  type SelectValueProps as AriaSelectValueProps,\n  Text,\n  type ValidationResult as AriaValidationResult,\n} from 'react-aria-components';\n\nimport { cn } from '@/libs/utils';\n\nimport { FieldError, Label } from './field';\nimport { Icons } from './icons';\nimport {\n  ListBoxCollection,\n  ListBoxHeader,\n  ListBoxItem,\n  ListBoxSection,\n} from './list-box';\nimport { Popover } from './popover';\n\n/**\n * A custom select component.\n */\nconst Select = AriaSelect;\n\n/**\n * Represents a select item in a list box.\n */\nconst SelectItem = ListBoxItem;\n\n/**\n * Represents the header component for a select box.\n */\nconst SelectHeader = ListBoxHeader;\n\n/**\n * Represents a section in a select box.\n */\nconst SelectSection = ListBoxSection;\n\n/**\n * Represents a collection of items for a select component.\n */\nconst SelectCollection = ListBoxCollection;\n\n/**\n * Renders the value of a select component.\n *\n * @component\n * @template T - The type of the select value.\n * @param {AriaSelectValueProps<T>} props - The props for the select value component.\n * @param {string} [props.className] - The class name for the select value component.\n * @returns {JSX.Element} - The rendered select value component.\n */\nfunction SelectValue<T extends object>({\n  className,\n  ...props\n}: AriaSelectValueProps<T>): JSX.Element {\n  return (\n    <AriaSelectValue\n      className={composeRenderProps(className, (className) =>\n        cn(\n          'line-clamp-1 data-[placeholder]:text-muted-foreground',\n          /* Description */\n          '[&>[slot=description]]:hidden',\n          className,\n        ),\n      )}\n      {...props}\n    />\n  );\n}\n\n/**\n * Renders a select trigger component.\n *\n * @component\n * @param {AriaButtonProps} props - The props for the select trigger.\n * @param {string} [props.className] - The class name for the select trigger.\n * @param {React.ReactNode} [props.children] - The children for the select trigger.\n * @returns {JSX.Element} The rendered select trigger component.\n */\nfunction SelectTrigger({\n  className,\n  children,\n  ...props\n}: AriaButtonProps): JSX.Element {\n  return (\n    <AriaButton\n      className={composeRenderProps(className, (className) =>\n        cn(\n          'flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background',\n          /* Disabled */\n          'data-[disabled]:cursor-not-allowed data-[disabled]:opacity-50',\n          /* Focused */\n          'data-[focus-visible]:outline-none data-[focus-visible]:ring-2 data-[focus-visible]:ring-ring data-[focus-visible]:ring-offset-2',\n          /* Resets */\n          'focus-visible:outline-none',\n          className,\n        ),\n      )}\n      {...props}\n    >\n      {composeRenderProps(children, (children) => (\n        <>\n          {children}\n          <Icons.ChevronDown aria-hidden=\"true\" className=\"size-4 opacity-50\" />\n        </>\n      ))}\n    </AriaButton>\n  );\n}\n\n/**\n * Renders a select popover component.\n *\n * @component\n * @param {AriaPopoverProps} props - The props for the select popover.\n * @param {string} [props.className] - The class name for the select popover.\n * @returns {JSX.Element} The rendered select popover component.\n */\nfunction SelectPopover({ className, ...props }: AriaPopoverProps): JSX.Element {\n  return (\n    <Popover\n      className={composeRenderProps(className, (className) =>\n        cn('w-[--trigger-width]', className),\n      )}\n      {...props}\n    />\n  );\n}\n\n/**\n * Renders a select list box component.\n *\n * @component\n * @template T - The type of the objects in the list box.\n * @param {AriaListBoxProps<T>} props - The props for the select list box.\n * @param {string} [props.className] - The class name for the select list box.\n * @returns {JSX.Element} - The rendered select list box component.\n */\nfunction SelectListBox<T extends object>({\n  className,\n  ...props\n}: AriaListBoxProps<T>): JSX.Element {\n  return (\n    <AriaListBox\n      className={composeRenderProps(className, (className) =>\n        cn(\n          'max-h-[inherit] overflow-auto p-1 outline-none [clip-path:inset(0_0_0_0_round_calc(var(--radius)-2px))]',\n          className,\n        ),\n      )}\n      {...props}\n    />\n  );\n}\n\n/**\n * Props for the GroveSelect component.\n *\n * @template T - The type of items in the select.\n * @property {string} [label] - The label for the select.\n * @property {string} [description] - The description for the select.\n * @property {string | ((validation: AriaValidationResult) => string)} [errorMessage] - The error message for the select.\n * @property {Iterable<T>} [items] - The items for the select.\n * @property {React.ReactNode | ((item: T) => React.ReactNode)} children - The children for the select.\n */\ntype GroveSelectProps<T extends object> = {\n  label?: string;\n  description?: string;\n  errorMessage?: string | ((validation: AriaValidationResult) => string);\n  items?: Iterable<T>;\n  children: React.ReactNode | ((item: T) => React.ReactNode);\n} & Omit<AriaSelectProps<T>, 'children'>;\n\n/**\n * Renders a custom select component with Grove styling.\n *\n * @component\n * @template T - The type of the select items.\n * @param {GroveSelectProps<T>} props - The props for the GroveSelect component.\n * @param {string} [props.className] - The class name for the GroveSelect component.\n * @param {string} [props.label] - The label for the GroveSelect component.\n * @param {string} [props.description] - The description for the GroveSelect component.\n * @param {string | ((validation: AriaValidationResult) => string)} [props.errorMessage] - The error message for the GroveSelect component.\n * @param {Iterable<T>} [props.items] - The items for the GroveSelect component.\n * @returns {JSX.Element} - The rendered GroveSelect component.\n */\nfunction GroveSelect<T extends object>({\n  className,\n  label,\n  description,\n  errorMessage,\n  children,\n  items,\n  ...props\n}: GroveSelectProps<T>): JSX.Element {\n  return (\n    <Select\n      className={composeRenderProps(className, (className) =>\n        cn('group flex flex-col gap-2', className),\n      )}\n      {...props}\n    >\n      <Label>{label}</Label>\n      <SelectTrigger>\n        <SelectValue />\n      </SelectTrigger>\n      {description && (\n        <Text className=\"text-sm text-muted-foreground\" slot=\"description\">\n          {description}\n        </Text>\n      )}\n      <FieldError>{errorMessage}</FieldError>\n      <SelectPopover>\n        <SelectListBox items={items}>{children}</SelectListBox>\n      </SelectPopover>\n    </Select>\n  );\n}\n\nexport type { GroveSelectProps };\nexport {\n  GroveSelect,\n  Select,\n  SelectCollection,\n  SelectHeader,\n  SelectItem,\n  SelectListBox,\n  SelectPopover,\n  SelectSection,\n  SelectTrigger,\n  SelectValue,\n};\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}
